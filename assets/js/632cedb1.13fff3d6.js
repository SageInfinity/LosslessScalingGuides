"use strict";(self.webpackChunkls_guide=self.webpackChunkls_guide||[]).push([[307],{3985:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Guides/PCIe Guide","title":"PCIe Guide","description":"Guide for understanding PCIe (especially for Dual GPU setup)","source":"@site/docs/Guides/8. PCIe-Guide.md","sourceDirName":"Guides","slug":"/Guides/PCIe Guide","permalink":"/docs/Guides/PCIe Guide","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"PCIe Guide","description":"Guide for understanding PCIe (especially for Dual GPU setup)","id":"PCIe Guide"},"sidebar":"docs","previous":{"title":"Dual GPU Troubleshooting","permalink":"/docs/Guides/dualgputroubleshoot"},"next":{"title":"Rollback to older versions","permalink":"/docs/Guides/beta"}}');var a=t(4848),n=t(8453);const r={title:"PCIe Guide",description:"Guide for understanding PCIe (especially for Dual GPU setup)",id:"PCIe Guide"},i=void 0,l={},d=[{value:"Quick answers to commonly asked questions.",id:"quick-answers-to-commonly-asked-questions",level:2},{value:"Q. My motherboard&#39;s website/manual says it has two x16 slots. Do they both support x16 lanes?",id:"q-my-motherboards-websitemanual-says-it-has-two-x16-slots-do-they-both-support-x16-lanes",level:3},{value:"Q. Can I use an M.2-to-PCIe adapter for my second GPU?",id:"q-can-i-use-an-m2-to-pcie-adapter-for-my-second-gpu",level:3},{value:"Q. Can I use a PCIe x1 to PCIe x16 adapter for my second GPU?",id:"q-can-i-use-a-pcie-x1-to-pcie-x16-adapter-for-my-second-gpu",level:3},{value:"Q. Can I use a PCIe riser cable for my primary or secondary GPU?",id:"q-can-i-use-a-pcie-riser-cable-for-my-primary-or-secondary-gpu",level:3},{value:"Q. What is the ideal PCIe configuration for maximum dual-GPU performance?",id:"q-what-is-the-ideal-pcie-configuration-for-maximum-dual-gpu-performance",level:3},{value:"Q. My motherboard has an option for &quot;x8/x8&quot; or &quot;x4/x4/x4/x4&quot; in the BIOS. Does this mean my motherboard supports dual GPUs at x8/x8?",id:"q-my-motherboard-has-an-option-for-x8x8-or-x4x4x4x4-in-the-bios-does-this-mean-my-motherboard-supports-dual-gpus-at-x8x8",level:3},{value:"Q. Are PCIe 3.0 x4 or PCIe 4.0 x4 good enough for me? Do I NEED x8/x8?",id:"q-are-pcie-30-x4-or-pcie-40-x4-good-enough-for-me-do-i-need-x8x8",level:3},{value:"Long-Form PCIe Tutorial",id:"long-form-pcie-tutorial",level:2},{value:"PCIe Lanes",id:"pcie-lanes",level:3},{value:"PCIe Slot Names",id:"pcie-slot-names",level:3},{value:"Why Slot Names Don&#39;t Equal Lane Counts",id:"why-slot-names-dont-equal-lane-counts",level:3},{value:"Adapters, Slots, and Lane Counts",id:"adapters-slots-and-lane-counts",level:3},{value:"PCIe Generation (Bandwidth)",id:"pcie-generation-bandwidth",level:3},{value:"Why the Number of Lanes Still Matters",id:"why-the-number-of-lanes-still-matters",level:3},{value:"Total System Lanes",id:"total-system-lanes",level:3}];function h(e){const o={a:"a",blockquote:"blockquote",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.h2,{id:"quick-answers-to-commonly-asked-questions",children:"Quick answers to commonly asked questions."}),"\n",(0,a.jsx)(o.h3,{id:"q-my-motherboards-websitemanual-says-it-has-two-x16-slots-do-they-both-support-x16-lanes",children:"Q. My motherboard's website/manual says it has two x16 slots. Do they both support x16 lanes?"}),"\n",(0,a.jsx)(o.p,{children:"No. The manual refers to the physical size of the slot (x16), not the number of electrical lanes it provides. No consumer motherboard has enough CPU PCIe lanes to run two slots at x16 each."}),"\n",(0,a.jsx)(o.h3,{id:"q-can-i-use-an-m2-to-pcie-adapter-for-my-second-gpu",children:"Q. Can I use an M.2-to-PCIe adapter for my second GPU?"}),"\n",(0,a.jsx)(o.p,{children:"Yes, but the slot will run at a maximum of x4 lanes, with some configurations providing only x1 lane. You will never get x8 or x16 lanes this way, as M.2 slots on consumer motherboards are not wired for more than x4 lanes."}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsx)(o.li,{children:"If the M.2 slot is connected directly to the CPU, it may provide up to x4 lanes."}),"\n",(0,a.jsx)(o.li,{children:'If the M.2 slot is connected to the chipset, it may provide only x1 lane.\r\nPerformance varies by motherboard. You must also ensure the adapter explicitly states it is an "M.2 x4 lanes to x16 slot with x4 lanes" adapter. If not, the product may not provide a 1:1 ratio of lanes. Remember, on these adapters, x16 refers to the slot size, not the lane count. You cannot convert an M.2 slot\'s x4 lanes into x16 PCIe lanes. Generation matters, too\u2014if your M.2 slot is PCIe 4.0, use a Gen 4.0 adapter to avoid a significant bandwidth penalty from dropping to a slower standard.'}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"q-can-i-use-a-pcie-x1-to-pcie-x16-adapter-for-my-second-gpu",children:"Q. Can I use a PCIe x1 to PCIe x16 adapter for my second GPU?"}),"\n",(0,a.jsx)(o.p,{children:"Technically yes, but it is not recommended. Performance will be severely bottlenecked. A PCIe x1 slot only has one electrical lane, meaning the x16 slot on the other end of the adapter will also only receive one lane. Every GPU requires more than one lane to function effectively."}),"\n",(0,a.jsx)(o.h3,{id:"q-can-i-use-a-pcie-riser-cable-for-my-primary-or-secondary-gpu",children:"Q. Can I use a PCIe riser cable for my primary or secondary GPU?"}),"\n",(0,a.jsx)(o.p,{children:"Yes. Ensure the riser cable's PCIe generation matches or exceeds that of your GPU. Also, confirm the riser is rated for x16 lanes to ensure full bandwidth."}),"\n",(0,a.jsx)(o.h3,{id:"q-what-is-the-ideal-pcie-configuration-for-maximum-dual-gpu-performance",children:"Q. What is the ideal PCIe configuration for maximum dual-GPU performance?"}),"\n",(0,a.jsxs)(o.p,{children:["Look for a motherboard with two PCIe x16 slots that support ",(0,a.jsx)(o.strong,{children:"x8/x8 mode"}),". This means both slots will operate with x8 lanes simultaneously. Additionally, make sure the slots' PCIe generation matches or exceeds that of your primary GPU. For example, if your GPU is PCIe 4.0, your motherboard slots should also be PCIe 4.0 or newer."]}),"\n",(0,a.jsx)(o.h3,{id:"q-my-motherboard-has-an-option-for-x8x8-or-x4x4x4x4-in-the-bios-does-this-mean-my-motherboard-supports-dual-gpus-at-x8x8",children:'Q. My motherboard has an option for "x8/x8" or "x4/x4/x4/x4" in the BIOS. Does this mean my motherboard supports dual GPUs at x8/x8?'}),"\n",(0,a.jsxs)(o.p,{children:["No. This setting is for ",(0,a.jsx)(o.strong,{children:"PCIe bifurcation"}),". It's designed for splitter cards, which allow a single PCIe slot to connect to two or more devices. This setting allows the motherboard to split the lanes of a single physical slot and present them as multiple virtual slots to the operating system. Without it, the OS would be confused by two different hardware IDs originating from a single slot. Bifurcation is unrelated to using two separate physical slots on your motherboard for dual GPUs (unless you are connecting both GPUs to one slot via a splitter)."]}),"\n",(0,a.jsx)(o.h3,{id:"q-are-pcie-30-x4-or-pcie-40-x4-good-enough-for-me-do-i-need-x8x8",children:"Q. Are PCIe 3.0 x4 or PCIe 4.0 x4 good enough for me? Do I NEED x8/x8?"}),"\n",(0,a.jsx)(o.p,{children:"This depends on your specific hardware and usage: your primary GPU, secondary GPU, monitor resolution, and refresh rate. Ravenger created a helpful table estimating the PCIe bandwidth required for certain framerates and resolutions."}),"\n",(0,a.jsx)(o.p,{children:"Excerpt from his guide:"}),"\n",(0,a.jsxs)(o.ul,{children:["\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"Below PCIe 3.0 x4:"})," May not work properly. Not recommended for any use case."]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"PCIe 3.0 x4:"})," Supports up to 1080p @ 240fps, 1440p @ 180fps, or 4K @ 60fps (4K not recommended)."]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"PCIe 4.0 x4:"})," Supports up to 1080p @ 540fps, 1440p @ 240fps, or 4K @ 165fps."]}),"\n",(0,a.jsxs)(o.li,{children:[(0,a.jsx)(o.strong,{children:"PCIe 4.0 x8:"})," Supports up to 1440p @ 480fps or 4K @ 240fps."]}),"\n"]}),"\n",(0,a.jsx)(o.h2,{id:"long-form-pcie-tutorial",children:"Long-Form PCIe Tutorial"}),"\n",(0,a.jsx)(o.p,{children:"A detailed explanation of the PCIe standard for those interested in the underlying technology."}),"\n",(0,a.jsx)(o.h3,{id:"pcie-lanes",children:"PCIe Lanes"}),"\n",(0,a.jsx)(o.p,{children:"To simplify a complex topic, a PCIe lane is essentially a data link that connects your PCIe slot to your CPU or chipset. Think of them as lanes on a highway\u2014they connect where you are to where you're going. Just like a road, only a certain number of lanes can fit on a given path."}),"\n",(0,a.jsx)(o.p,{children:"A typical modern consumer CPU, such as a Ryzen 7000 or Intel 14th Gen series, has between 24 and 28 PCIe lanes directly available. The motherboard chipset also provides PCIe lanes, but these are generally slower and have higher latency as they connect indirectly to the CPU, like taking a backroad with a lower speed limit."}),"\n",(0,a.jsx)(o.h3,{id:"pcie-slot-names",children:"PCIe Slot Names"}),"\n",(0,a.jsx)(o.p,{children:'You will most commonly see the term "x16" used to describe a GPU or a motherboard slot. This is the largest physical PCIe slot, named x16 because it has the physical contacts for 16 PCIe lanes. Similarly, there are smaller x8, x4, and x1 slots, named for the maximum number of lanes they can physically connect.'}),"\n",(0,a.jsx)(o.p,{children:"Most modern expansion cards (GPUs, sound cards, network cards, etc.) use either an x16 or x1 physical connector, so these are the most common slots on consumer motherboards. Think of an x16 slot as a 16-lane superhighway, an x8 slot as an 8-lane highway, an x4 slot as a 4-lane public street, and an x1 slot as a single-lane residential road."}),"\n",(0,a.jsx)(o.h3,{id:"why-slot-names-dont-equal-lane-counts",children:"Why Slot Names Don't Equal Lane Counts"}),"\n",(0,a.jsxs)(o.p,{children:["A key point is that a slot's physical size does not always match the number of electrical lanes it provides. The size (e.g., x16) only indicates the ",(0,a.jsx)(o.em,{children:"maximum"})," number of lanes the slot ",(0,a.jsx)(o.em,{children:"can"})," have. Motherboard manufacturers can wire a physical x16 slot with x16, x8, x4, or even just x1 electrical lane."]}),"\n",(0,a.jsx)(o.p,{children:'You must check your motherboard\'s manual to see how the PCIe slots operate. Because slot names are similar to lane counts, manufacturers will list the number of "x16 slots" a board has. This information only tells you the physical size. Typically, the primary PCIe x16 slot is wired for a full x16 lanes, though this can be reduced to x8 lanes in certain configurations (like a dual-GPU mode). The second and third PCIe x16 slots on a board may only be wired for x8, x4, or x1 lanes.'}),"\n",(0,a.jsx)(o.p,{children:'A motherboard manual might state: "2 x PCI Express x16 slots." This can be confusing. A more detailed spec sheet might clarify with something like: "1 x PCIe 5.0 x16 Slot (supports x16 mode)" and "1 x PCIe 3.0 x16 Slot (supports x4 mode)." This is much clearer. An ideal specification for a dual-GPU setup would read: "2 x PCIe 5.0 x16 Slots (support x16 or x8/x8 modes)."'}),"\n",(0,a.jsx)(o.h3,{id:"adapters-slots-and-lane-counts",children:"Adapters, Slots, and Lane Counts"}),"\n",(0,a.jsx)(o.p,{children:"The number of lanes is determined by the source, regardless of the adapter or destination slot size. If you use an adapter to turn a PCIe x1 slot into a physical x16 slot, you can plug in larger cards, but the connection will still only provide one lane of data. The same is true for an M.2 adapter\u2014if the M.2 slot provides x4 lanes, the x16 slot on the other end of the adapter will only receive x4 lanes."}),"\n",(0,a.jsx)(o.h3,{id:"pcie-generation-bandwidth",children:"PCIe Generation (Bandwidth)"}),"\n",(0,a.jsx)(o.p,{children:"PCIe Generation (e.g., 3.0, 4.0, 5.0) refers to the version of the standard a slot uses, which determines its bandwidth per lane. Think of it as the speed limit on your highway lane. It's sufficient to know that each new generation roughly doubles the bandwidth of the previous one."}),"\n",(0,a.jsxs)(o.p,{children:["This means PCIe 2.0 x16 has the same total bandwidth as PCIe 3.0 x8, which is the same as PCIe 4.0 x4. However, while the total bandwidth may be equivalent, ",(0,a.jsx)(o.strong,{children:"you cannot convert a lower number of lanes into a higher number"}),". For example, changing a PCIe 4.0 x4 slot to Gen 3.0 in the BIOS will not give you x8 lanes; it will simply become a slower PCIe 3.0 x4 slot."]}),"\n",(0,a.jsx)(o.h3,{id:"why-the-number-of-lanes-still-matters",children:"Why the Number of Lanes Still Matters"}),"\n",(0,a.jsx)(o.p,{children:"So, why do lanes matter if bandwidth can be equivalent? Graphics cards are designed for a specific number of lanes. A GPU built for PCIe 3.0 x16 has the same theoretical bandwidth as one built for PCIe 4.0 x8, but the way it communicates can differ."}),"\n",(0,a.jsx)(o.p,{children:"A card with more available lanes has more pathways for data. Imagine a high-priority task needing to be sent. Instead of waiting for a congested lane to clear, the GPU could potentially use an entirely different lane, improving latency. Because of this, a GPU designed for 16 lanes may perform better in a native x16 slot than in an x8 slot with equivalent bandwidth, as it has more paths to negotiate for sending data."}),"\n",(0,a.jsx)(o.h3,{id:"total-system-lanes",children:"Total System Lanes"}),"\n",(0,a.jsx)(o.p,{children:"Consumer CPUs have a limited number of PCIe lanes (e.g., 20-28). On a typical system, 16 of these lanes are reserved for the primary GPU slot. If a second GPU is used, those 16 lanes are often split, providing x8 lanes to each of two slots. The remaining CPU lanes (e.g., 4-8 lanes) are usually dedicated to high-speed M.2 storage."}),"\n",(0,a.jsx)(o.p,{children:"This is why consumer motherboards do not support two GPUs running at x16/x16\u2014that would require 32 lanes, which consumer CPUs don't have. Only server or HEDT (High-End Desktop) platforms offer that many lanes. (Note: Having a top-of-the-line consumer CPU and GPU does not make your system HEDT; it's a separate class of enthusiast/workstation hardware not covered here.)"}),"\n",(0,a.jsx)(o.p,{children:"If the guide convinces you to get a motherboard that supports full-speed dual GPUs, here is a master list to help you choose:"}),"\n",(0,a.jsxs)(o.blockquote,{children:["\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.strong,{children:(0,a.jsx)(o.a,{href:"https://docs.google.com/document/d/e/2PACX-1vQx7SM9-SU_YdCxXNgVGcNFLLHL5mrWzliRvq4Gi4wytsbh2HCsc9AaCEFrx8Lao5-ttHoDYKM8A7UE/pub",children:"Tommy\u2019s MOBO List"})})}),"\n"]}),"\n",(0,a.jsxs)(o.blockquote,{children:["\n",(0,a.jsx)(o.p,{children:(0,a.jsx)(o.em,{children:"Credits - 150 Watts"})}),"\n"]})]})}function c(e={}){const{wrapper:o}={...(0,n.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,o,t)=>{t.d(o,{R:()=>r,x:()=>i});var s=t(6540);const a={},n=s.createContext(a);function r(e){const o=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(n.Provider,{value:o},e.children)}}}]);